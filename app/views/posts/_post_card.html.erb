<%# app/views/posts/_post_card.html.erb %>
<article class="group bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col overflow-hidden border-b-4 border-b-transparent hover:border-b-blue-500">
  <%# Área Visual %>
  <div class="aspect-video bg-gray-100 flex items-center justify-center overflow-hidden relative">
    <% if post.youtube_url.present? %>
      <% video_id = post.youtube_url.match(/(?:v=|youtu\.be\/)([^&?]+)/)[1] rescue nil %>
      <img src="https://img.youtube.com/vi/<%= video_id %>/mqdefault.jpg" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="<%= post.title %>">
    <% else %>
      <i data-lucide="file-text" class="w-12 h-12 text-gray-300"></i>
    <% end %>
  </div>

  <%# Conteúdo %>
  <div class="p-6 flex flex-col flex-grow">
    <h2 class="text-2xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors">
      <%= link_to post.title, post %>
    </h2>
    <div class="text-gray-500 line-clamp-3 mb-6 flex-grow text-sm">
      <%= strip_tags(post.content.to_s).truncate(120) %>
    </div>
    <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-50">
      <%= link_to "Ler mais", post, class: "text-sm font-bold text-gray-900 flex items-center gap-1" %>
      <% if authenticated? %>
        <%= link_to edit_post_path(post), class: "text-gray-400 hover:text-amber-500" do %>
          <i data-lucide="pencil" class="w-4 h-4"></i>
        <% end %>
      <% end %>
    </div>
  </div>
</article>