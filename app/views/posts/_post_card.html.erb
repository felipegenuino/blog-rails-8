<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  
  <%# --- SEÇÃO DE DESTAQUE (HERO) --- %>
  <% if @featured_post %>
    <section class="mb-16">
      <%= link_to @featured_post, class: "group relative grid grid-cols-1 lg:grid-cols-12 gap-8 items-center bg-gray-900 rounded-[2.5rem] overflow-hidden hover:ring-4 ring-blue-500/20 transition-all duration-500" do %>
        
        <%# Lado Esquerdo: Imagem/Vídeo %>
        <div class="lg:col-span-7 h-[400px] w-full relative">
          <% if @featured_post.youtube_url.present? %>
            <% video_id = @featured_post.youtube_url.match(/(?:v=|youtu\.be\/)([^&?]+)/)[1] rescue nil %>
            <img src="https://img.youtube.com/vi/<%= video_id %>/maxresdefault.jpg" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity" alt="Destaque">
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="bg-white/20 backdrop-blur-md p-5 rounded-full">
                <i data-lucide="play" class="w-10 h-10 text-white fill-current"></i>
              </div>
            </div>
          <% else %>
            <div class="w-full h-full bg-gradient-to-br from-blue-600 to-indigo-900 flex items-center justify-center">
              <i data-lucide="sparkles" class="w-20 h-20 text-white/20"></i>
            </div>
          <% end %>
        </div>

        <%# Lado Direito: Texto %>
        <div class="lg:col-span-5 p-8 lg:pr-12">
          <span class="inline-block px-4 py-1 rounded-full bg-blue-500 text-white text-xs font-bold mb-4 uppercase tracking-widest">
            Novo Post
          </span>
          <h1 class="text-3xl lg:text-5xl font-black text-white mb-6 leading-tight group-hover:text-blue-300 transition-colors">
            <%= @featured_post.title %>
          </h1>
          <p class="text-gray-300 text-lg line-clamp-3 mb-8">
            <%= strip_tags(@featured_post.content.to_s).truncate(160) %>
          </p>
          <div class="flex items-center gap-3 text-white font-bold">
            <div class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center border border-white/10">
              <i data-lucide="user" class="w-5 h-5"></i>
            </div>
            <span>Felipe Genuino</span>
          </div>
        </div>
      <% end %>
    </section>
  <% end %>

  <%# --- TÍTULO DA SEÇÃO SECUNDÁRIA --- %>
  <div class="flex items-center gap-4 mb-8">
    <h2 class="text-2xl font-black text-gray-900">Posts Recentes</h2>
    <div class="h-[2px] flex-grow bg-gray-100"></div>
  </div>

  <%# --- GRID DE CARDS RESTANTES --- %>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    <% @remaining_posts.each do |post| %>
      <%= render "post_card", post: post %>
    <% end %>
  </div>
</div>