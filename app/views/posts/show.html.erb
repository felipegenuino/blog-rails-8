<%# Layout de Artigo Centralizado %>
<div class="py-12 sm:py-16">
  <div class="mx-auto max-w-3xl text-base leading-7 text-gray-700">
    
    <%# Cabeçalho do Post %>
    <nav class="mb-8 flex items-center gap-x-4 text-xs">
      <time datetime="<%= @post.created_at %>" class="text-gray-500">
        <%= @post.created_at.strftime("%d de %B, %Y") %>
      </time>
      <span class="rounded-full bg-indigo-50 px-3 py-1.5 font-bold text-indigo-600 uppercase">
        <%= @post.content_type %>
      </span>
    </nav>

    <h1 class="mt-2 text-3xl font-black tracking-tight text-gray-900 sm:text-5xl mb-8">
      <%= @post.title %>
    </h1>

    <%# Resumo/Intro com destaque %>
    <% if @post.summary.present? %>
      <p class="text-xl leading-8 text-gray-600 italic border-l-4 border-indigo-500 pl-6 my-10">
        <%= @post.summary %>
      </p>
    <% end %>

    <%# Conteúdo Principal (Action Text) %>
    <div class="mt-10">
      <%# A classe prose-img:rounded-3xl aplica o arredondamento em todas as imagens do post %>
      <div class="prose prose-lg prose-indigo max-w-none trix-content prose-img:rounded-3xl prose-img:shadow-lg prose-figcaption:text-center prose-figcaption:text-sm prose-figcaption:text-gray-500">
      <%= @post.content %>
      </div>
    </div>

    <%# Rodapé do Artigo com Ações Admin %>

    <div class="mt-16 pt-8 border-t border-gray-100 flex items-center justify-between">
        <%# Lado Esquerdo: Voltar %>
        <%= link_to posts_path, class: "group flex items-center gap-x-2 text-sm font-bold text-gray-600 hover:text-indigo-600 transition-all" do %>
          <i data-lucide="arrow-left" class="w-4 h-4 transition-transform group-hover:-translate-x-1"></i>
          Voltar para o Blog
        <% end %>

        <% if authenticated? %>
          <%# Lado Direito: Ações com Flexbox para manter alinhado %>
          <div class="flex items-center gap-x-6">
            <%= link_to edit_post_path(@post), class: "flex items-center gap-x-1.5 text-sm font-semibold text-indigo-600 hover:text-indigo-800" do %>
              <i data-lucide="pencil" class="w-4 h-4"></i>
              Editar
            <% end %>

            <%# O segredo é manter o button_to com form_class inline %>
            <%= button_to @post, method: :delete, 
                form_class: "inline-flex items-center",
                class: "flex items-center gap-x-1.5 text-sm font-semibold text-red-600 hover:text-red-800 bg-transparent border-none p-0 cursor-pointer",
                data: { confirm: "Tem certeza?" } do %>
              <i data-lucide="trash-2" class="w-4 h-4"></i>
              Apagar
            <% end %>
          </div>
        <% end %>
      </div>
    

  </div>
</div>